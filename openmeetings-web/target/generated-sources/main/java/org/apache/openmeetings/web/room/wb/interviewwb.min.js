var NONE="NONE",BaseWbArea=function(){return{wbWsHandler:function(f,a){try{if(!(a instanceof Blob)){var b=JSON.parse(a);if(b&&"wb"===b.type&&"undefined"!==typeof WbArea&&b.func)WbArea[b.func](b.param)}}catch(g){}}}},InterviewWbArea=function(){function f(){var e=d.find(".pod:not(.ui-helper,.ui-sortable-placeholder)").length,a=d.find(".empty");2>e?0===a.length&&d.append($('\x3cdiv class\x3d"empty"\x3e\x3c/div\x3e')):a.remove();a="pod-area max"+[2,3,5,9,13,17,25,33].find(function(a){return e<a});d.attr("class",
a)}var a=BaseWbArea(),b,g,d,h=!1,c;a.init=function(){Wicket.Event.subscribe("/websocket/message",a.wbWsHandler);b=$(".room-block .wb-block");g=b.find(".wb-area");d=g.find(".pod-area");c=g.find(".rec-btn");c.attr("title",c.data("title-start"));c.button({disabled:!0,showLabel:!1,icon:"record"}).click(function(){OmUtil.wbAction({action:"rec"===$(this).data("mode")?"startRecording":"stopRecording"})});d.find(".pod-big").droppable({accept:".pod",activeClass:"ui-hightlight",drop:function(a,b){a=$(this);
var e=b.draggable.find(".ui-dialog-content"),c=a.find(".ui-dialog-content");0===c.length?(e.dialog("option","appendTo",a),b.draggable.remove()):(c.dialog("option","appendTo",b.draggable),c.data().reattachStream(),e.dialog("option","appendTo",a));e.data().reattachStream();d.find(".ui-sortable-placeholder.pod").hide();f()}});d.sortable({items:".pod",handle:".ui-dialog-titlebar",stop:function(a,b){a=b.item.find(".ui-dialog-content");1===a.length&&a.data().reattachStream()}});f();h=!0};a.destroy=function(){Wicket.Event.unsubscribe("/websocket/message",
a.wbWsHandler)};a.setRole=function(a){};a.setRecEnabled=function(a){h&&c.data("mode","rec").button("option",{disabled:!a,icon:"record"})};a.setRecStarted=function(a){h&&c.data("mode",a?"stop":"rec").attr("title",c.data(a?"title-stop":"title-start")).button("option",{icon:a?"stop":"record"})};a.addDeleteHandler=function(){};a.removeDeleteHandler=function(){};a.updateAreaClass=f;return a};